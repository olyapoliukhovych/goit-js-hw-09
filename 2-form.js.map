{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nconst feedbackForm = document.querySelector('.feedback-form');\n\nsaveFormState();\n\nfeedbackForm.addEventListener('input', onInput);\nfeedbackForm.addEventListener('submit', onSubmit);\n\nfunction onInput(event) {\n  if (\n    event.target.nodeName !== 'INPUT' &&\n    event.target.nodeName !== 'TEXTAREA'\n  ) {\n    return;\n  }\n\n  formData[event.target.name] = event.target.value.trim();\n\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  formData = { email: '', message: '' };\n  feedbackForm.reset();\n}\n\nfunction saveFormState() {\n  const savedData = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n  if (!savedData) return;\n\n  try {\n    const parsed = JSON.parse(savedData);\n\n    if (typeof parsed === 'object' && parsed !== null) {\n      formData = parsed;\n\n      feedbackForm.elements.email.value = parsed.email || '';\n      feedbackForm.elements.message.value = parsed.message || '';\n    }\n  } catch (error) {\n    console.log('Error name:', error.name, 'Error message:', error.message);\n  }\n}\n"],"names":["formData","LOCAL_STORAGE_KEY","feedbackForm","saveFormState","onInput","onSubmit","event","savedData","parsed","error"],"mappings":"wFAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAoB,sBAEpBC,EAAe,SAAS,cAAc,gBAAgB,EAE5DC,IAEAD,EAAa,iBAAiB,QAASE,CAAO,EAC9CF,EAAa,iBAAiB,SAAUG,CAAQ,EAEhD,SAASD,EAAQE,EAAO,CAEpBA,EAAM,OAAO,WAAa,SAC1BA,EAAM,OAAO,WAAa,aAK5BN,EAASM,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OAEjD,aAAa,QAAQL,EAAmB,KAAK,UAAUD,CAAQ,CAAC,EAClE,CAEA,SAASK,EAASC,EAAO,CAGvB,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWC,CAAiB,EACzCD,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCE,EAAa,MAAK,CACpB,CAEA,SAASC,GAAgB,CACvB,MAAMI,EAAY,aAAa,QAAQN,CAAiB,EAExD,GAAKM,EAEL,GAAI,CACF,MAAMC,EAAS,KAAK,MAAMD,CAAS,EAE/B,OAAOC,GAAW,UAAYA,IAAW,OAC3CR,EAAWQ,EAEXN,EAAa,SAAS,MAAM,MAAQM,EAAO,OAAS,GACpDN,EAAa,SAAS,QAAQ,MAAQM,EAAO,SAAW,GAE3D,OAAQC,EAAO,CACd,QAAQ,IAAI,cAAeA,EAAM,KAAM,iBAAkBA,EAAM,OAAO,CACvE,CACH"}